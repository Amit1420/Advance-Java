package com.amit.k2.controller;

import java.sql.Date;
import java.util.List;

import com.amit.k2.dto.Admin;
import com.amit.k2.dto.Visitor;
import com.amit.k2.repository.AdminDAOImp;
import com.amit.k2.repository.VisitorDAOImp;

public class Controller {
	public static void main(String[] args) {
//		Admin admin = new Admin();
//		admin.setId(1);
//		admin.setUserName("amit1420");
//		admin.setPassword("Misti@143");
//		
//		AdminDAOImp daoImp = new AdminDAOImp();
//		daoImp.saveAdmin(admin);
//		
//		daoImp.adminLogin("amit","Misti");
		
		Visitor visitor = new Visitor();
		visitor.setAddress("Bokaro");
		visitor.setAge(23);
		visitor.setEmail("amitkumar80999@gmail.com");
		visitor.setGender("Male");
		visitor.setName("Amit");
		visitor.setPassword("Amit@123");
		visitor.setPhoneNo("9973568704");
		visitor.setId(1);
		visitor.setDob(Date.valueOf("1999-09-05");
		
		
		VisitorDAOImp visitorDAOImp = new VisitorDAOImp();
	    
		visitorDAOImp.saveVisitor(visitor);		
		
		List<Visitor> list = visitorDAOImp.getAllRegisteredVisitor();
		if(list!=null)
			list.forEach(System.out::println);
		else System.out.println("No visitor data found in DB");	
		
	    visitorDAOImp.visitorLogin("amitkumar80999@gmail.com","Amit@123");
	    
	    Visitor validVisitorById = visitorDAOImp.getValidVisitorById(1);
	    System.out.println(validVisitorById);
//		Visitor deleteVisitor = visitorDAOImp.deleteVisitor(1);
//		System.out.println(deleteVisitor);
		
		
		
		
	}

}
